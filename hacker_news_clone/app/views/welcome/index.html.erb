<h3>Welcome to mini Hacker News</h3>

<div>
  <% if session[:user_id] %>
    <%= link_to 'add new post', new_post_path %>
  <% end %>
</div>

<br>

<div>
  <% @posts.each_with_index do |post, index| %>
    <div>
      <%= index + 1 %>.
      <%= link_to "#{post.title} (#{post.url})", url_for(extlink(post.url)) %>
      by: <%= find_username(post) %>
      <%= link_to 'show', post_path(post) %>
      <% if @current_user && show_edit_actions(post) %>
        <%= link_to 'edit', edit_post_path(post) %>
        <%= link_to 'destroy', post_path(post), method: :delete %>
      <% end %>
    </div>
  <% end %>
</div>
